<footer class="container-fluid footer">
	<div class="footer-container">

		<div class="links-container">

			<div class="link">
				<a href="/" aria-label="Home">
					<p>Home</p>
				</a>
			</div>

			{% if site.data.settings.hero.show_footer_link %}
			<div class="link">
				<a href="{{ site.data.settings.hero.button_link }}"
					aria-label="{{ site.data.settings.hero.button_text }}" target="_blank">
					<p>{{ site.data.settings.hero.button_text }}</p>
				</a>
			</div>
			{% endif %}

			{% for item in site.data.settings.sidebar_CTAs %}
			{% if item.show_footer_link %}
			<div class="link">
				<a href="{{ site.baseurl }}{{ item.url}}" aria-label="{{ item.title }}" target="_blank">
					<p>{{ item.title}}</p>
				</a>
			</div>
			{% endif %}
			{% endfor %}

			{% if site.data.settings.about_me.show_footer_link %}
				{% if site.data.settings.about_me.button.open_in_new_tab %}
					{% assign target = "_blank" %}
				{% else %}
					{% assign target = "_self" %}
				{% endif %}
			<div class="link">
				<a href="{{ site.baseurl }}{{ site.data.settings.about_me.button.link }}" aria-label="{{ site.data.settings.about_me.button.text }}" target="{{ target }}">{{ site.data.settings.about_me.button.text }}</a>
			</div>
			{% endif %}

			{% for item in site.data.settings.CTAS %}
			{% if item.show_footer_link %}
			<div class="link">
				<a href="{{ site.baseurl }}{{ item.url}}" aria-label="{{ item.title }}" target="_blank">
					<p>{{ item.title}}</p>
				</a>
			</div>
			{% endif %}
			{% endfor %}

			{% for page in site.custom_pages %}
			{% if page.has_footer_link == true %}
			<div class="link">
				<a href="{{ site.baseurl }}{{ page.url }}" aria-label="{{ page.title }}" target="_blank">
					<p>{{ page.title }}</p>
				</a>
			</div>
			{% endif %}
			{% endfor %}

		</div>

		<div class="access-container">
			<p>We are committed to ensuring digital accessibility for those with disabilities. We are always working to
				improve
				the accessibility of our website for everyone, and we welcome feedback and accommodation requests. If
				you wish
				to
				report an issue or seek an accommodation, <a href="mailto:{{ site.data.settings.client.email }}"
					aria-label="Email">please
					let us know</a>.</p>
		</div>

		<div class="contact-container">
			<h4><strong>Want to talk to a person?</strong> Call us now at <a
					href="tel:1-{{ site.data.settings.client.phone }}" aria-label="Phone">{{
					site.data.settings.client.phone }}</a> for a
				free, <span style="white-space: nowrap">no-obligation</span> consultation.</h4>
			<p>
				<b>{{ site.data.settings.client.brand }}</b> |

				{% if site.data.settings.client.address != null %}
					{{ site.data.settings.client.address }},
				{% endif %}

				{% if site.data.settings.client.city != null %}
					{{ site.data.settings.client.city }}, 
				{% endif %}
				
				{% if site.data.settings.client.state != null %}
					{{ site.data.settings.client.state }} 
				{% endif %}

				{% if site.data.settings.client.zip != null %}
					{{ site.data.settings.client.zip }} |
				{% endif %}
				
				{% if site.data.settings.client.license_number != null %}
					License #{{ site.data.settings.client.license_number }} |
				{% endif %}

				<a href="mailto:{{ site.data.settings.client.email }}" aria-label="Email">{{
					site.data.settings.client.email }}</a>
			</p>
		</div>

		<div class="logo">
			<img src="{{ site.baseurl }}{{ site.data.settings.images.footer_logo_path }}" alt="Company logo" />
		</div>

		{% if site.data.settings.podcast.apple_podcast_link != null %}
			<div class="podcasts">
				<a href="{{ site.data.settings.podcast.apple_podcast_link }}" target="_blank"><img src="/uploads/podcast.webp" alt="Apple Podcasts" width="100"/></a>
			</div>
		{% endif %}

		<div class="socials-policy-container">

			<div class="socials">
				<p>Follow Us: </p>
				<div class="icons">
					{% for social in site.data.settings.footer.socials %}
					{% if social.url %}
					<a href="{{ social.url }}" aria-label="Link to {{ social.url }}" target="_blank">
						<img src="{{ site.baseurl }}{{ social.icon }}" alt="" width="35" height="35" loading="lazy" />
					</a>
					{% endif %}
					{% endfor %}
				</div>
			</div>
			<div class="policies">

				{% if site.data.settings.footer.custom_policies.privacy.enabled == true %}
				<div class="policy">
					<a href="{{ site.data.settings.footer.custom_policies.privacy.url }}"
						aria-label="{{ site.data.settings.footer.custom_policies.privacy.title }}" target="_blank">{{
						site.data.settings.footer.custom_policies.privacy.title }}</a>
				</div>
				{% endif %}

				{% if site.data.settings.footer.custom_policies.privacy.enabled == true and
				site.data.settings.footer.custom_policies.terms.enabled == true %}
				|
				{% endif %}

				{% if site.data.settings.footer.custom_policies.terms.enabled == true %}
				<div class="policy">
					<a href="{{ site.data.settings.footer.custom_policies.terms.url }}"
						aria-label="{{ site.data.settings.footer.custom_policies.terms.title }}" target="_blank">{{
						site.data.settings.footer.custom_policies.terms.title }}</a>
				</div>
				{% endif %}


				{% for policy in site.data.settings.footer.client_policies %}
				{% if policy.enabled == true %}
				<div class="policy">
					<a href="{{ policy.url }}" aria-label="{{ policy.title }}" target="_blank">{{ policy.title }}</a> {% unless
					forloop.last %}|{% endunless %}
				</div>
				{% endif %}
				{% endfor %}

			</div>

		</div>

		<div class="vyral-container">
			<p>Video Blog Website by <a href="https://www.getvyral.com" aria-label="Vyral Marketing" target="_blank">Vyral Marketing</a>
			</p>
		</div>

	</div>
</footer>

<script src="https://kit.fontawesome.com/f26bb5781d.js" crossorigin="anonymous"></script>
<script>
	function toggleNav() {
		const sideNav = document.getElementById("mySidenav");
		const overlay = document.getElementById("myOverlay");

		sideNav.classList.toggle("open");
		overlay.classList.toggle("open");

		// When the user clicks anywhere outside of the modal, close nav
		window.onclick = function (event) {
			console.log('window clicked from: ' + event)
			if (event.target == overlay) {
				toggleNav();
			}
		}

	}

	function closeButtonNav() {
		const bottomCta = document.getElementById("bottom-cta");
		bottomCta.classList.toggle("closed");
	}
</script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        const slider = $('.reviews-slider');
        const cards = $('.review-card');
        const dots = $('.slider-dot');
        let cardWidth = cards.outerWidth(true);
        let currentIndex = 0;
        let autoSlideInterval;
        const autoSlideDelay = 5000; // 5 seconds delay between slides
        
        // Set initial position
        updateSlider();
        startAutoSlide();
        
        // Next button click
        $('.slider-next').click(function() {
            resetAutoSlide();
            if (currentIndex < cards.length - 1) {
                currentIndex++;
                updateSlider();
            }
        });
        
        // Prev button click
        $('.slider-prev').click(function() {
            resetAutoSlide();
            if (currentIndex > 0) {
                currentIndex--;
                updateSlider();
            }
        });
        
        // Dot navigation click
        dots.click(function() {
            resetAutoSlide();
            currentIndex = $(this).index();
            updateSlider();
        });
        
        // Swipe functionality for mobile
        let touchStartX = 0;
        let touchEndX = 0;
        
        slider.on('touchstart', function(e) {
            resetAutoSlide();
            touchStartX = e.changedTouches[0].screenX;
        });
        
        slider.on('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
            startAutoSlide();
        });
        
        function handleSwipe() {
            if (touchEndX < touchStartX - 50 && currentIndex < cards.length - 1) {
                // Swipe left
                currentIndex++;
                updateSlider();
            }
            
            if (touchEndX > touchStartX + 50 && currentIndex > 0) {
                // Swipe right
                currentIndex--;
                updateSlider();
            }
        }
        
        function updateSlider() {
            const translateX = -currentIndex * cardWidth;
            slider.css('transform', `translateX(${translateX}px)`);
            
            // Update dots
            dots.removeClass('active');
            dots.eq(currentIndex).addClass('active');
            
            // Hide/show arrows
            $('.slider-prev').toggle(currentIndex > 0);
            $('.slider-next').toggle(currentIndex < cards.length - 1);
        }
        
        // Auto-slide functions
        function startAutoSlide() {
            clearInterval(autoSlideInterval);
            autoSlideInterval = setInterval(() => {
                if (currentIndex < cards.length - 1) {
                    currentIndex++;
                } else {
                    currentIndex = 0; // Loop back to first slide
                }
                updateSlider();
            }, autoSlideDelay);
        }
        
        function resetAutoSlide() {
            clearInterval(autoSlideInterval);
        }
        
        // Make responsive on window resize
        $(window).resize(function() {
            cardWidth = cards.outerWidth(true);
            updateSlider();
        });
        
        // Pause auto-slide when hovering over slider
        slider.hover(
            function() {
                resetAutoSlide();
            },
            function() {
                startAutoSlide();
            }
        );
    });
</script>